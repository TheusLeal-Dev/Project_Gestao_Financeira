<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Detalhes do MÃªs - FinControl</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

    <h2 class="text-center mb-4">
        ðŸ“… Detalhes de <strong>{{ mes_nome }}</strong>
    </h2>

    <div class="row mb-4">
        <div class="col-md-4">
            <div class="card bg-success text-white">
                <div class="card-body">
                    <h5>Receitas</h5>
                    <h3>R$ {{ total_receitas }}</h3>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card bg-danger text-white">
                <div class="card-body">
                    <h5>Despesas</h5>
                    <h3>R$ {{ total_despesas }}</h3>
                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card {% if saldo >= 0 %}bg-info{% else %}bg-warning{% endif %} text-white">
                <div class="card-body">
                    <h5>Saldo</h5>
                    <h3>R$ {{ saldo }}</h3>
                </div>
            </div>
        </div>
    </div>

    <h4 class="mt-4">ðŸ“Œ TransaÃ§Ãµes do mÃªs</h4>

    <table class="table table-striped mt-3">
        <thead>
            <tr>
                <th>Data</th>
                <th>DescriÃ§Ã£o</th>
                <th>Categoria</th>
                <th>Valor (R$)</th>
            </tr>
        </thead>

        <tbody>
            {% for t in transacoes %}
            <tr>
                <td>{{ t.data }}</td>
                <td>{{ t.descricao }}</td>
                <td>{{ t.get_categoria_display }}</td>
                <td class="{% if t.tipo == 'receita' %}text-success{% else %}text-danger{% endif %}">
                    {{ t.valor }}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" class="text-center text-muted">Nenhuma transaÃ§Ã£o neste mÃªs.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="text-center mt-4">
        <a href="{% url 'resumo_anual' %}" class="btn btn-secondary">Voltar ao Resumo Anual</a>
        <a href="{% url 'dashboard' %}" class="btn btn-primary">Dashboard</a>
    </div>

</div>

</body>
</html>
